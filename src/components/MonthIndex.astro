---
import type { MonthData } from '../data/newsData';

interface Props {
  months: MonthData[];
}

const { months } = Astro.props;
---

<section class="month-index">
  <h2 class="index-title">Index of Months</h2>
  <div class="index-grid">
    {months.map((month) => (
      <a href={`#${month.slug}`} class="month-link">
        <span class="month-name">{month.month}</span>
        <span class="dot-leader"></span>
        <span class="story-count">{month.weeks.length * 3} Stories</span>
      </a>
    ))}
  </div>
</section>

<style>
  .month-index {
    padding: 1.5rem;
    border: 2px solid #000;
    background-color: #fff;
  }

  .index-title {
    font-family: var(--font-serif);
    font-size: 1.5rem;
    text-align: center;
    margin: 0 0 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 4px double #000;
  }

  .index-grid {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .month-link {
    display: flex;
    align-items: baseline;
    text-decoration: none;
    color: inherit;
    padding: 0.5rem 0;
  }

  .month-name {
    font-family: var(--font-serif);
    font-size: 1.2rem;
    font-weight: 700;
  }

  .dot-leader {
    flex: 1;
    margin: 0 0.5rem;
    border-bottom: 1px dotted #000;
  }

  .story-count {
    font-style: italic;
    color: #666;
  }

  .month-link:hover .month-name {
    text-decoration: underline;
  }

  @media (min-width: 800px) {
    .month-index {
      position: sticky;
      top: 2rem;
      width: 300px;
    }
  }


</style>